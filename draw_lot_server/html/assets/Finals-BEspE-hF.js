/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                        *//* empty css                  *//* empty css               */import{_ as te}from"./PlayerCard-C6AYfe3R.js";import{r as u,c as ae,e as _,g as l,a as c,w as t,i as P,t as d,d as o,L,p as ne,B as oe,y as re,C as ie,b as n,h as R,F as I,f as w,n as M,u as de,j as ue,s as E,D as ce,G as pe,z as ve,H as _e,I as fe}from"./index-KxJKXHH8.js";import{c as D}from"./utils-BJkYNDuZ.js";/* empty css                        */import"./_plugin-vue_export-helper-DlAUqK2U.js";const me={class:"second-round"},he={class:"nextBt"},ye={class:"stopLoopBt"},ge={class:"body"},Re={class:"title fire-text"},Se={class:"bgm-text"},Ce={class:"player-form"},ke={class:"left-player"},Pe={class:"right-player"},Ie={class:"pool"},we={class:"player-pool"},Be={class:"pp-table"},We={class:"bgm-pool"},be={class:"bp-table"},Fe={class:"player-select-list"},Ge={class:"player-select-item"},Oe={class:"player-name"},Te={class:"player-select-list"},Ve={class:"player-select-item"},Le={class:"player-name"},qe={__name:"Finals",setup(Me){const f=u("巅峰对决 — 三局赛"),x=de(),j=ue();u([{playerId:1,name:"玩家1",isBetter:!0,avatar:"/src/assets/001.jpg",firstRoundGroup:0,isFirstWinner:!0,secondRoundScore:2,secondRoundOrder:1,isSecondWinner:!0,thirdRoundScore:2,thirdRoundOrder:0,isThirdWinner:!0,finalScore:0,finalOrder:0,isFinalWinner:!1},{playerId:2,name:"玩家2",isBetter:!0,avatar:"/src/assets/002.jpg",firstRoundGroup:0,isFirstWinner:!0,secondRoundScore:2,secondRoundOrder:1,isSecondWinner:!0,thirdRoundScore:2,thirdRoundOrder:0,isThirdWinner:!0,finalScore:0,finalOrder:0,isFinalWinner:!1},{playerId:3,name:"玩家3",isBetter:!0,avatar:"/src/assets/003.jpg",firstRoundGroup:0,isFirstWinner:!0,secondRoundScore:2,secondRoundOrder:1,isSecondWinner:!0,thirdRoundScore:2,thirdRoundOrder:0,isThirdWinner:!0,finalScore:0,finalOrder:0,isFinalWinner:!1},{playerId:4,name:"玩家4",isBetter:!0,avatar:"/src/assets/004.jpg",firstRoundGroup:0,isFirstWinner:!0,secondRoundScore:2,secondRoundOrder:1,isSecondWinner:!0,thirdRoundScore:2,thirdRoundOrder:0,isThirdWinner:!0,finalScore:0,finalOrder:0,isFinalWinner:!1}]);const B=u(["Megalovania - Undertale","One Winged Angel - FF7","The Only Thing I Know For Real - MGR","Bury the Light - DMC5","Red Sun in the Sky - MGR","It Has To Be This Way - MGR","Devil Trigger - DMC5","Rivers in the Desert - P5","Last Surprise - P5","Life Will Change - P5","Take Over - P5R","I Believe - P5R"]),U=D(B.value,3),S=ae(()=>x.getters["group/compGroup"].filter(a=>a.isThirdWinner===!0).sort((a,s)=>a.playerId-s.playerId)),z=D(S.value,2),r=u(null),i=u(null),C=u("点击选择BGM"),p=u(!1),v=u(!1),N=a=>{if(a){if(a===i.value){E.warning("左右两边不能选择相同的选手！");return}r.value=a,p.value=!1}},A=()=>{r.value=null},$=()=>{i.value=null},H=a=>{if(a){if(a===r.value){E.warning("左右两边不能选择相同的选手！");return}i.value=a,v.value=!1}},W=()=>{p.value=!0},b=()=>{v.value=!0},K=()=>{p.value=!1},q=()=>{v.value=!1},J=()=>{r.value=null,i.value=null,p.value=!1,v.value=!1},Q=()=>{f.value="总决赛",r.value=null,i.value=null,C.value="",p.value=!1,v.value=!1},X=a=>{C.value=a},Y=()=>{j.push("/Finals/FinalsWinnerList")};return(a,s)=>{const k=ne,Z=ce,ee=pe,le=oe,F=te,m=ve,G=re,O=_e,T=fe,V=ie;return n(),_("div",me,[l("div",he,[f.value==="巅峰对决 — 三局赛"?(n(),c(k,{key:0,onClick:J},{default:t(()=>s[5]||(s[5]=[R("下一组")])),_:1})):P("",!0)]),l("div",ye,[f.value==="巅峰对决 — 三局赛"?(n(),c(k,{key:0,onClick:Q},{default:t(()=>s[6]||(s[6]=[R("进入总决赛阶段")])),_:1})):P("",!0),f.value==="总决赛"?(n(),c(k,{key:1,onClick:Y},{default:t(()=>s[7]||(s[7]=[R("结束比赛")])),_:1})):P("",!0)]),l("div",ge,[l("div",Re,d(f.value),1),l("div",{class:"bgm",onClick:s[0]||(s[0]=e=>a.showBgmSelect=!0)},[o(le,{trigger:"click",onCommand:X},{dropdown:t(()=>[o(ee,null,{default:t(()=>[(n(!0),_(I,null,w(B.value,e=>(n(),c(Z,{key:e,command:e},{default:t(()=>[R(d(e),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:t(()=>[l("span",Se,"BGM: "+d(C.value),1)]),_:1})]),l("div",Ce,[l("div",ke,[r.value?(n(),c(F,{key:1,player:r.value,"onUpdate:player":s[1]||(s[1]=e=>r.value=e),"allow-player-change":!0,"max-score":2,"fetch-score":e=>e.finalScore||0,onScoreChange:a.updateLeftPlayerScore,onSelectPlayer:W,onResetPlayer:A},null,8,["player","fetch-score","onScoreChange"])):(n(),_("div",{key:0,class:"select-player",onClick:W}," 选择选手 "))]),s[8]||(s[8]=l("div",{class:"score"},[l("div",{class:"score-txt"},"VS")],-1)),l("div",Pe,[i.value?(n(),c(F,{key:1,player:i.value,"onUpdate:player":s[2]||(s[2]=e=>i.value=e),"allow-player-change":!0,"max-score":2,"fetch-score":e=>e.finalScore||0,onScoreChange:a.updateRightPlayerScore,onSelectPlayer:b,onResetPlayer:$},null,8,["player","fetch-score","onScoreChange"])):(n(),_("div",{key:0,class:"select-player",onClick:b}," 选择选手 "))])]),l("div",Ie,[l("div",we,[s[9]||(s[9]=l("div",{class:"pp-title"},"选手池",-1)),l("div",Be,[o(G,{data:L(z),border:"","show-header":!1},{default:t(()=>[o(m,{align:"center"},{default:t(({row:e})=>[l("span",null,d(e[0].name),1)]),_:1}),o(m,{align:"center"},{default:t(({row:e})=>[l("span",null,d(e[1].name),1)]),_:1})]),_:1},8,["data"])])]),l("div",We,[s[10]||(s[10]=l("div",{class:"bp-title"},"BGM池",-1)),l("div",be,[o(G,{data:L(U),border:"","show-header":!1},{default:t(()=>[o(m,{align:"center"},{default:t(({row:e})=>[l("span",null,d(e[0]),1)]),_:1}),o(m,{align:"center"},{default:t(({row:e})=>[l("span",null,d(e[1]),1)]),_:1}),o(m,{align:"center"},{default:t(({row:e})=>[l("span",null,d(e[2]),1)]),_:1})]),_:1},8,["data"])])])])]),o(V,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=e=>p.value=e),title:"选择选手",onClose:K,width:"30%"},{default:t(()=>[l("div",Fe,[(n(!0),_(I,null,w(S.value,e=>{var h,y;return n(),c(T,{key:e.playerId,class:M({"disabled-card":e.playerId===((h=i.value)==null?void 0:h.playerId)}),shadow:e.playerId===((y=i.value)==null?void 0:y.playerId)?"never":"hover",onClick:se=>{var g;return e.playerId!==((g=i.value)==null?void 0:g.playerId)&&N(e)}},{default:t(()=>[l("div",Ge,[o(O,{size:50,src:e.avatar},null,8,["src"]),l("span",Oe,d(e.name),1)])]),_:2},1032,["class","shadow","onClick"])}),128))])]),_:1},8,["modelValue"]),o(V,{modelValue:v.value,"onUpdate:modelValue":s[4]||(s[4]=e=>v.value=e),title:"选择选手",onClose:q,width:"30%"},{default:t(()=>[l("div",Te,[(n(!0),_(I,null,w(S.value,e=>{var h,y;return n(),c(T,{key:e.playerId,class:M({"disabled-card":e.playerId===((h=r.value)==null?void 0:h.playerId)}),shadow:e.playerId===((y=r.value)==null?void 0:y.playerId)?"never":"hover",onClick:se=>{var g;return e.playerId!==((g=r.value)==null?void 0:g.playerId)&&H(e)}},{default:t(()=>[l("div",Ve,[o(O,{size:50,src:e.avatar},null,8,["src"]),l("span",Le,d(e.name),1)])]),_:2},1032,["class","shadow","onClick"])}),128))])]),_:1},8,["modelValue"])])}}};export{qe as default};
