/* empty css                  */import{r as f,a as $,c as i,g as n,e as S,w as k,s as E,p as w,o as d,n as m,i as v,t as g,h as I,j as O,u as V}from"./index-raWdJXYL.js";import{C as j}from"./CustomTable-CJuOAYq1.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"second-round"},T={class:"res-table"},W=["onClick"],F={class:"badge-container"},H={key:0,class:"rank-badge rank-first"},L={key:1,class:"rank-badge rank-second"},z={class:"player-info"},D=["onClick"],q={class:"badge-container"},A={key:0,class:"rank-badge rank-first"},J={key:1,class:"rank-badge rank-second"},K={class:"player-info"},Q=["onClick"],U={class:"badge-container"},X={key:0,class:"rank-badge rank-first"},Y={key:1,class:"rank-badge rank-second"},Z={class:"player-info"},x=["onClick"],ee={class:"badge-container"},oe={key:0,class:"rank-badge rank-first"},se={key:1,class:"rank-badge rank-second"},te={class:"player-info"},ae={class:"next-button"},le={__name:"SecondRoundWinnerListView",setup(re){const C=[{prop:"fist_group",label:"第一组"},{prop:"second_group",label:"第二组"},{prop:"third_group",label:"第三组"},{prop:"forth_group",label:"第四组"}],M=O(),R=V(),u=f({group1:null,group2:null,group3:null,group4:null}),c=f({group1:null,group2:null,group3:null,group4:null}),G=$(()=>R.getters["group/compGroup"]),p=f([]);p.value=G.value.filter(e=>e.isFirstWinner).sort((e,t)=>e.firstRoundGroup-t.firstRoundGroup);const b=f(!1);for(let e=0;e<16;e++)!u.value["group"+(Math.floor(e/4)+1)]||p.value[e].secondRoundScore>=u.value["group"+(Math.floor(e/4)+1)].secondRoundScore?((!c.value["group"+(Math.floor(e/4)+1)]||u.value["group"+(Math.floor(e/4)+1)].secondRoundScore>=c.value["group"+(Math.floor(e/4)+1)].secondRoundScore)&&(c.value["group"+(Math.floor(e/4)+1)]=u.value["group"+(Math.floor(e/4)+1)]),u.value["group"+(Math.floor(e/4)+1)]=p.value[e]):u.value["group"+(Math.floor(e/4)+1)]&&(!c.value["group"+(Math.floor(e/4)+1)]||p.value[e].secondRoundScore>=c.value["group"+(Math.floor(e/4)+1)].secondRoundScore)&&(c.value["group"+(Math.floor(e/4)+1)]=p.value[e]);for(let e=1;e<=4;e++)u.value["group"+e].secondRoundScore===c.value["group"+e].secondRoundScore&&(b.value=!0);const y=f([]);for(let e=0;e<4;e++)y.value.push(p.value.filter(t=>t.isFirstWinner&&t.firstRoundGroup%4===e).sort((t,o)=>t.firstRoundGroup-o.firstRoundGroup));const l=f({}),r=f({}),_=(e,t)=>{const o=`${e}-${t}`;let a=!1,s=!1;for(let h=0;h<4;h++)l.value[`${h}-${t}`]&&(a=!0),r.value[`${h}-${t}`]&&(s=!0);l.value[o]?l.value[o]=!l.value[o]:r.value[o]?r.value[o]=!r.value[o]:a?s||(r.value[o]=!r.value[o]):l.value[o]=!l.value[o]};b.value||(Object.keys(u.value).forEach(e=>{let t=u.value[e].firstRoundGroup,o=t%4,a=Math.floor(t/4);_(o,a)}),Object.keys(c.value).forEach(e=>{let t=c.value[e].firstRoundGroup,o=t%4,a=Math.floor(t/4);_(o,a)}));const N=()=>{let e=Object.keys(l.value).filter(o=>l.value[o]).map(o=>o.split("-")[1]*4+o.split("-")[0]*1),t=Object.keys(r.value).filter(o=>r.value[o]).map(o=>o.split("-")[1]*4+o.split("-")[0]*1);e.length===4&&t.length===4?(R.dispatch("group/clearPlayerSecondRoundOrder"),e.forEach(o=>{R.dispatch("group/updatePlayerSecondRoundOrder",{playerId:p.value[o].playerId,order:1})}),t.forEach(o=>{R.dispatch("group/updatePlayerSecondRoundOrder",{playerId:p.value[o].playerId,order:2})}),M.push("/ThirdRound/ThirdRoundView")):E.error("请选择胜者")};return(e,t)=>{const o=w;return d(),i("div",P,[t[1]||(t[1]=n("div",{class:"title fire-text"},"小组循环赛胜者",-1)),n("div",T,[S(j,{data:y.value,columns:C,"show-header":!0},{fist_group:k(({row:a,$index:s})=>[n("div",{class:m(["cell-content",{"highlighted-no1":l.value[`${s}-0`]},{"highlighted-no2":r.value[`${s}-0`]}]),onClick:h=>_(s,0)},[n("div",F,[l.value[`${s}-0`]?(d(),i("span",H,"1st")):v("",!0),r.value[`${s}-0`]?(d(),i("span",L,"2nd")):v("",!0)]),n("span",z,g(a[0].name)+" wins "+g(a[0].secondRoundScore),1)],10,W)]),second_group:k(({row:a,$index:s})=>[n("div",{class:m(["cell-content",{"highlighted-no1":l.value[`${s}-1`]},{"highlighted-no2":r.value[`${s}-1`]}]),onClick:h=>_(s,1)},[n("div",q,[l.value[`${s}-1`]?(d(),i("span",A,"1st")):v("",!0),r.value[`${s}-1`]?(d(),i("span",J,"2nd")):v("",!0)]),n("span",K,g(a[1].name)+" wins "+g(a[1].secondRoundScore),1)],10,D)]),third_group:k(({row:a,$index:s})=>[n("div",{class:m(["cell-content",{"highlighted-no1":l.value[`${s}-2`]},{"highlighted-no2":r.value[`${s}-2`]}]),onClick:h=>_(s,2)},[n("div",U,[l.value[`${s}-2`]?(d(),i("span",X,"1st")):v("",!0),r.value[`${s}-2`]?(d(),i("span",Y,"2nd")):v("",!0)]),n("span",Z,g(a[2].name)+" wins "+g(a[2].secondRoundScore),1)],10,Q)]),forth_group:k(({row:a,$index:s})=>[n("div",{class:m(["cell-content",{"highlighted-no1":l.value[`${s}-3`]},{"highlighted-no2":r.value[`${s}-3`]}]),onClick:h=>_(s,3)},[n("div",ee,[l.value[`${s}-3`]?(d(),i("span",oe,"1st")):v("",!0),r.value[`${s}-3`]?(d(),i("span",se,"2nd")):v("",!0)]),n("span",te,g(a[3].name)+" wins "+g(a[3].secondRoundScore),1)],10,x)]),_:1},8,["data"])]),n("div",ae,[S(o,{onClick:N},{default:k(()=>t[0]||(t[0]=[I("进入下一轮")])),_:1})])])}}},de=B(le,[["__scopeId","data-v-a852da0f"]]);export{de as default};
